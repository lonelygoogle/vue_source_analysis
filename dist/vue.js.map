{"version":3,"file":"vue.js","sources":["../src/compiler/generate.js","../src/compiler/parse.js","../src/compiler/index.js","../src/observer/watcher.js","../src/vdom/patch.js","../src/lifecycle.js","../src/observer/array.js","../src/observer/index.js","../src/state.js","../src/init.js","../src/vdom/index.js","../src/render.js","../src/index.js"],"sourcesContent":["const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\nfunction genProps(attrs) {\r\n    let str = '';\r\n    for (let i = 0; i < attrs.length; i++) {\r\n        let attr = attrs[i]; // name,value\r\n        if (attr.name === 'style') {\r\n            let obj = {};\r\n            attr.value.split(';').forEach(item => {\r\n                let [key, value] = item.split(':');\r\n                obj[key] = value\r\n            });\r\n            attr.value = obj; // {style:{color:red}}\r\n        }\r\n        str += `${attr.name}:${JSON.stringify(attr.value)},` // {a:'aaa',a:1,b:2,}\r\n    }\r\n    return `{${str.slice(0,-1)}}`;\r\n}\r\n\r\nfunction genChildren(el) {\r\n    const children  = el.children;\r\n    if(children){\r\n        return children.map(child=>gen(child)).join(',')\r\n    }\r\n}\r\nfunction gen(node){ // 区分是元素 还是文本\r\n    if(node.type == 1){\r\n        return generate(node);\r\n    }else{\r\n        //文本 逻辑不能用 _c来处理\r\n        // 有{{}} 普通文本  混合文本 {{aa}} aaa {{bbb}} ccc\r\n        let text =  node.text;\r\n        if(defaultTagRE.test(text)){ // _v(_s(name) + 'aa' + _s(age) + '哈哈'）\r\n            let tokens = [];\r\n            let match ;\r\n            let index = 0;\r\n            let lastIndex = defaultTagRE.lastIndex = 0;\r\n            while(match = defaultTagRE.exec(text)){ // aa {{ age }} haha \r\n                index = match.index;\r\n                if(index >lastIndex){\r\n                    tokens.push(JSON.stringify(text.slice(lastIndex,index)));\r\n                }\r\n                tokens.push(`_s(${match[1].trim()})`);\r\n                lastIndex = index + match[0].length;\r\n            }\r\n            if(lastIndex < text.length){\r\n                tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n            }\r\n            return  `_v(${tokens.join('+')})`\r\n\r\n            // 是带有{{}}\r\n        }else{\r\n            return `_v(${JSON.stringify(text)})`\r\n        }\r\n    }\r\n}\r\nexport function generate(el) {\r\n    // console.log(el); // 转换成render代码\r\n    let children = genChildren(el);\r\n    let code = `_c('${el.tag}',${\r\n        el.attrs.length? genProps(el.attrs):'undefined'\r\n    } ${\r\n        children? (',' + children) : ''\r\n    })`;\r\n    // => js代码 html=> js代码  字符串拼接\r\n    return code;\r\n}\r\n\r\n\r\n/* \r\n<div id=\"app\" a=1 b=2>\r\n    <span style\"=color:red\">{{name}} <a>hello</a></span>\r\n</div> \r\n _c(\r\n    'div',{id:'app',a:1,b:2}\r\n    ,_c(\r\n        'span',\r\n        {style:{color:'red'}}\r\n        ,_s(_v(name)),\r\n        _c(a,undefined,_v('hello'))\r\n        )\r\n)\r\n*/","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // aa-aa \r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //aa:aa\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 可以匹配到标签名  [1]\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); //[0] 标签的结束名字\r\n//    style=\"xxx\"   style='xxx'  style=xxx\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\nconst startTagClose = /^\\s*(\\/?)>/;\r\n\r\n\r\n\r\nexport function parseHTML(html) { // <\r\n    function createASTElement(tag, attrs) { // vue3里面支持多个根元素 (外层加了一个空元素) vue2中只有一个根节点\r\n        return {\r\n            tag,\r\n            type: 1,\r\n            children: [],\r\n            attrs,\r\n            parent: null\r\n        }\r\n    }\r\n    let root = null;\r\n    let currentParent;\r\n    let stack = [];\r\n\r\n    // 根据开始标签 结束标签 文本内容 生成一个ast语法树\r\n    function start(tagName, attrs) { // [div]\r\n        let element = createASTElement(tagName, attrs);\r\n        if (!root) {\r\n            root = element;\r\n        }\r\n        currentParent = element // div>span>a   div  span\r\n        stack.push(element)\r\n    }\r\n\r\n    function end(tagName) {\r\n        let element = stack.pop();\r\n        currentParent = stack[stack.length - 1];\r\n        if (currentParent) {\r\n            element.parent = currentParent;\r\n            currentParent.children.push(element)\r\n        }\r\n    }\r\n\r\n    function chars(text) {\r\n        text = text.replace(/\\s/g, '');\r\n        if (text) {\r\n            currentParent.children.push({\r\n                type: 3,\r\n                text\r\n            })\r\n        }\r\n    }\r\n\r\n    function advance(n) {\r\n        html = html.substring(n)\r\n    }\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen);\r\n        if (start) {\r\n            let match = {\r\n                tagName: start[1],\r\n                attrs: []\r\n            };\r\n            advance(start[0].length); // 获取元素 \r\n            // 查找属性\r\n            let end, attr;\r\n            //不是开头标签结尾就一直解析\r\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n                advance(attr[0].length); // a=1 a=\"1\" a='1'\r\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] || true });\r\n            }\r\n            if (end) {\r\n                advance(end[0].length);\r\n                return match\r\n            }\r\n        }\r\n    }\r\n    while (html) {\r\n        let textEnd = html.indexOf('<');\r\n        if (textEnd == 0) {\r\n            let startTagMatch = parseStartTag();\r\n            if (startTagMatch) { // 开始标签\r\n                start(startTagMatch.tagName, startTagMatch.attrs)\r\n                continue;\r\n            }\r\n            // 结束标签 \r\n            let endTagMatch = html.match(endTag);\r\n            if (endTagMatch) {\r\n                advance(endTagMatch[0].length);\r\n                end(endTagMatch[1]);\r\n                continue;\r\n            }\r\n        }\r\n        let text;\r\n        if (textEnd > 0) { // 开始解析文本\r\n            text = html.substring(0, textEnd)\r\n        }\r\n        if (text) {\r\n            advance(text.length);\r\n            chars(text);\r\n        }\r\n    }\r\n\r\n    return root;\r\n}","import { generate } from \"./generate\";\r\nimport { parseHTML } from \"./parse\";\r\n\r\nexport function compileToFunctions(template) {\r\n    let ast = parseHTML(template);\r\n    // root\r\n    let code = generate(ast); // 生成代码\r\n\r\n    let render = `with(this){return ${code}}`\r\n\r\n    let fn = new Function(render); // 可以让字符串变成一个函数\r\n    \r\n    return fn; // render 函数已经ok了\r\n}\r\n\r\n\r\n","let id = 0;\r\nclass Watcher {\r\n    constructor(vm,fn,cb,options){\r\n        this.vm = vm;\r\n        this.fn = fn;\r\n        this.cb = cb;\r\n        this.options = options;\r\n        this.id = id++;\r\n        this.fn(); // 调用传入的函数\r\n    }\r\n}\r\nexport default Watcher;","export function patch(oldVnode, vnode) {\r\n    // oldVnode 是一个真实的元素\r\n    const isRealElement = oldVnode.nodeType\r\n    if (isRealElement) {\r\n        // 初次渲染\r\n        const oldElm = oldVnode; // id=\"app\"\r\n        const parentElm = oldElm.parentNode; // body\r\n        let el = createElm(vnode);\r\n        parentElm.insertBefore(el, oldElm.nextSibling); // 将创建的节点查到原有的节点的下一个\r\n        parentElm.removeChild(oldElm);\r\n        return el; // vm.$el\r\n    } else {\r\n        // diff算法\r\n    }\r\n}\r\n\r\nfunction createElm(vnode) { // 根据虚拟节点创建真实的节点\r\n    let { tag, children, key, data, text, vm } = vnode;\r\n    if(typeof tag === 'string'){\r\n        // 可能是组件\r\n        vnode.el =  document.createElement(tag); // 用vue的指令时 可以通过vnode拿到真实dom\r\n        updateProperties(vnode);\r\n        children.forEach(child=>{ // 如果有儿子节点，就进行递归操作\r\n           vnode.el.appendChild(createElm(child))\r\n        })\r\n    }else{\r\n        vnode.el = document.createTextNode(text)\r\n    }\r\n\r\n    return vnode.el;\r\n}\r\nfunction updateProperties(vnode){\r\n    let newProps = vnode.data || {}; // 属性\r\n    let el = vnode.el; // dom元素\r\n\r\n    for(let key in newProps){\r\n        if(key == 'style'){\r\n            for(let styleName in newProps.style){\r\n                el.style[styleName] = newProps.style[styleName]\r\n            }\r\n        }else if(key === 'class'){\r\n            el.className = newProps.class\r\n        }else{\r\n            el.setAttribute(key,newProps[key]);\r\n        }\r\n    }\r\n\r\n\r\n}","import Watcher from \"./observer/watcher\"\r\nimport { patch } from './vdom/patch'\r\nexport function lifecycleMixin(Vue) {\r\n    Vue.prototype._update = function(vnode) {\r\n        // 将虚拟节点转换成真实的dom\r\n        const vm = this;\r\n        // 首次渲染 需要用虚拟节点 来更新真实的dom元素\r\n        vm.$el = patch(vm.$options.el, vnode);\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function mountComponent(vm, el) {\r\n\r\n\r\n    // 默认vue是通过watcher来进行渲染  = 渲染watcher （每一个组件都有一个渲染watcher）\r\n\r\n    let updateComponent = () => {\r\n        vm._update(vm._render()); // 虚拟节点\r\n    }\r\n    new Watcher(vm, updateComponent, () => {}, true); // updateComponent();\r\n}","let oldArrayProtoMethods = Array.prototype;\r\n\r\n// 不能直接改写数组原有方法 不可靠，因为只有被vue控制的数组才需要改写\r\n\r\nexport let arrayMethods = Object.create(Array.prototype)\r\nlet methods = [ // concat slice ... 都不能改变原数组\r\n    'push',\r\n    'pop',\r\n    'shift',\r\n    'unshift',\r\n    'splice',\r\n    'reverse',\r\n    'sort'\r\n];\r\n\r\nmethods.forEach(method=>{   // AOP切片编程\r\n    arrayMethods[method] = function (...args) { // 重写数组方法\r\n        // todo ... 比如更新视图\r\n        // 有可能用户新增的数据是对象格式 也需要进行拦截\r\n        let result = oldArrayProtoMethods[method].call(this,...args);\r\n        let inserted;\r\n        let ob = this.__ob__\r\n        switch (method) {\r\n            case 'push':\r\n            case 'unshift':\r\n                inserted = args;\r\n                break;\r\n            case 'splice': // splice(0,1,xxxx)\r\n                inserted = args.slice(2);\r\n            default:\r\n                break;\r\n        }\r\n        console.log('inserted', inserted)\r\n        if(inserted)  ob.observeArray(inserted);\r\n        return result;\r\n    }\r\n})\r\n\r\n// arrayMethods.push({a:1})","import { arrayMethods } from \"./array\";\r\n\r\nclass Observer {\r\n    constructor(value) { // 需要对这个value属性重新定义\r\n        // value可能是对象 可能是数组，分类来处理\r\n        // value.__ob__ = this; \r\n        Object.defineProperty(value,'__ob__',{\r\n            value:this,\r\n            enumerable:false, // 不能被枚举表示 不能被循环\r\n            configurable:false,// 不能删除此属性\r\n        })\r\n        if(Array.isArray(value)){\r\n            // 数组不用defineProperty来进行代理 性能不好\r\n            // push shift reverse sort  我要重写这些方法增加更新逻辑\r\n            // value.__proto__ = arrayMethods\r\n            Object.setPrototypeOf(value,arrayMethods); // 相当于 value.__proto__ = arrayMethods\r\n            this.observeArray(value); // 原有数组中的对象  如果Object.freeze()，就不能get和set，就是不能defineProperty\r\n        }else{\r\n            this.walk(value);\r\n        }\r\n    }\r\n    observeArray(value){\r\n        for(let i = 0; i < value.length;i++){\r\n            observe(value[i]);\r\n        }\r\n    }\r\n    walk(data) {\r\n        // 将对象中的所有key 重新用defineProperty定义成响应式的\r\n        Object.keys(data).forEach((key) => {\r\n            defineReactive(data, key, data[key]);\r\n        })\r\n    }\r\n}\r\nexport function defineReactive(data, key, value) { // vue2中数据嵌套不要过深 过深浪费性能\r\n    // value 可能也是一个对象\r\n    observe(value); // 对结果递归拦截\r\n    Object.defineProperty(data,key,{\r\n        get(){\r\n            return value;\r\n        },\r\n        set(newValue){\r\n            if(newValue === value) return;\r\n            observe(newValue); // 如果用户设置的是一个对象 ， 就继续将用户设置的对象变成响应式的\r\n            value = newValue\r\n        }\r\n    })\r\n}\r\nexport function observe(data) {\r\n    // 只对对象类型进行观测 非对象类型无法观测\r\n    if (typeof data !== 'object' || data == null) {\r\n        return;\r\n    }\r\n    if(data.__ob__){ // 放置循环引用了\r\n        return;\r\n    }\r\n    // 通过类来对实现对数据的观测 类可以方便扩展，会产生实例\r\n    return new Observer(data);\r\n}","import { observe } from \"./observer/index.js\";\r\n\r\n// vue的数据 data compunted watch...\r\nexport function initState(vm){\r\n    // 将所有数据都定义在 vm属性上，并且后续更改 需要触发视图更新\r\n    const opts = vm.$options; // 获取用户属性\r\n    if(opts.data){ // 数据的初始化\r\n        initData(vm);\r\n    }\r\n}\r\nfunction proxy(vm,source,key){\r\n    Object.defineProperty(vm,key,{\r\n        get(){\r\n            return vm[source][key];\r\n        },\r\n        set(newValue){\r\n            vm[source][key] = newValue\r\n        }\r\n    })\r\n}\r\nfunction initData(vm){\r\n    // 数据劫持 Object.defineProperty\r\n    let data = vm.$options.data;\r\n    // 对data类型进行判断 如果是函数 获取函数返回值作为对象\r\n    data = vm._data = typeof data === 'function' ? data.call(vm):data\r\n\r\n    // 通过vm._data 获取劫持后的数据，用户就可以拿到_data了\r\n    // 将_data中的数据全部放到vm上\r\n    for(let key in data){\r\n        proxy(vm,'_data',key); // vm.name  => vm._data.nam,e\r\n    }\r\n    // 观测这个数据\r\n    observe(data);\r\n}","import { compileToFunctions } from \"./compiler/index.js\";\r\nimport { mountComponent } from \"./lifecycle.js\";\r\nimport { initState } from \"./state\";\r\nexport function initMixin(Vue){\r\n    Vue.prototype._init = function (options) {\r\n        const vm = this;\r\n        vm.$options = options; // 实例上有个属性$options 表示的是用户传入的所有属性\r\n        // 初始化状态\r\n        initState(vm);\r\n\r\n        if(vm.$options.el){ // 数据可以挂载到页面上\r\n            vm.$mount(vm.$options.el);\r\n        }\r\n    }\r\n    Vue.prototype.$mount = function (el) {\r\n        el = document.querySelector(el);\r\n        const vm = this;\r\n        const options = vm.$options;\r\n        vm.$options.el = el;\r\n        // 如果有render 就直接使用render\r\n        // 没有render 看有没有template属性\r\n        // 没有template 就接着找外部模板\r\n\r\n        if(!options.render){\r\n            let template = options.template;\r\n            if(!template && el){\r\n                template = el.outerHTML; // 火狐不兼容 document.createElement('div').appendChild('app').innerHTMl\r\n            }\r\n            // 如何将模板编译成render函数\r\n            const render =  compileToFunctions(template); // compileToFunctions\r\n            options.render = render;\r\n            \r\n        }\r\n\r\n        mountComponent(vm,el);// 组件挂载\r\n\r\n\r\n\r\n    }\r\n}\r\n","export function createElement(vm, tag, data = {}, ...children) {\r\n    return vnode(vm, tag, data, data.key, children, undefined);\r\n}\r\nexport function createTextVnode(vm, text) {\r\n    return vnode(vm,undefined,undefined,undefined,undefined,text)\r\n}\r\nfunction vnode(vm, tag, data, key, children, text) {\r\n    return {\r\n        vm,\r\n        tag,\r\n        children,\r\n        data,\r\n        key,\r\n        text\r\n    }\r\n}","import { createElement, createTextVnode } from \"./vdom/index.js\"\r\n\r\nexport function renderMixin(Vue) {\r\n    Vue.prototype._c = function(...args) { // 创建元素的虚拟节点\r\n        return createElement(this,...args);\r\n    }   \r\n    Vue.prototype._v = function(text) { // 创建文本的虚拟节点\r\n        return createTextVnode(this,text);\r\n    }\r\n    Vue.prototype._s = function(val) { // 转化成字符串\r\n        return val == null ? '' : (typeof val == 'object') ? JSON.stringify(val) : val\r\n    }\r\n    Vue.prototype._render = function() {\r\n        // render\r\n        const vm = this;\r\n        let render = vm.$options.render; // 获取编译后的render方法\r\n\r\n        // 调用render方法产生虚拟节点\r\n        let vnode = render.call(vm); // _c(xxx,xx,xxx,xxx) 调用时会自动将变量进行取值，将实例结果进行渲染\r\n\r\n        return vnode; // 虚拟节点\r\n\r\n        // _c('div',{},_c())\r\n    }\r\n}","// Vue2.0中就是一个构造函数 class\r\n\r\nimport { initMixin } from \"./init\";\r\nimport { lifecycleMixin } from \"./lifecycle\";\r\nimport { renderMixin } from \"./render\";\r\n\r\nfunction Vue(options){\r\n   this._init(options); // 当用户new Vue时 就调用init方法进行vue的初始方法\r\n}\r\n// 可以拆分逻辑到不同的文件中 更利于代码维护 模块化的概念\r\n\r\ninitMixin(Vue); // 扩展初始化方法\r\nlifecycleMixin(Vue); // 扩展_update方法\r\nrenderMixin(Vue); // 扩展_render方法\r\nexport default Vue\r\n\r\n// 库 => rollup  项目开发webpack  \r\n\r\n"],"names":["defaultTagRE","genProps","attrs","str","i","length","attr","name","obj","value","split","forEach","item","key","JSON","stringify","slice","genChildren","el","children","map","child","gen","join","node","type","generate","text","test","tokens","match","index","lastIndex","exec","push","trim","code","tag","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","parent","root","currentParent","stack","start","tagName","element","end","pop","chars","replace","advance","n","substring","parseStartTag","textEnd","indexOf","startTagMatch","endTagMatch","compileToFunctions","template","ast","render","fn","Function","id","Watcher","vm","cb","options","patch","oldVnode","vnode","isRealElement","nodeType","oldElm","parentElm","parentNode","createElm","insertBefore","nextSibling","removeChild","data","document","createElement","updateProperties","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","lifecycleMixin","Vue","prototype","_update","$el","$options","mountComponent","updateComponent","_render","oldArrayProtoMethods","Array","arrayMethods","Object","create","methods","method","args","result","call","inserted","ob","__ob__","console","log","observeArray","Observer","defineProperty","enumerable","configurable","isArray","setPrototypeOf","walk","observe","keys","defineReactive","get","set","newValue","initState","opts","initData","proxy","source","_data","initMixin","_init","$mount","querySelector","outerHTML","undefined","createTextVnode","renderMixin","_c","_v","_s","val"],"mappings":"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"}